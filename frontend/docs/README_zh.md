<p align="center">
  <img src="assets/logo.png" alt="Dataflow" width="120px"/>
</p>

# DataFlow WebUI å‰ç«¯é¡¹ç›®

è¿™æ˜¯ DataFlow çš„ **å‰ç«¯ç•Œé¢é¡¹ç›®**ï¼Œä½¿ç”¨ **Vue 3 + Vite** æ„å»ºã€‚

ğŸ‘‰ å¦‚æœä½ **å®Œå…¨ä¸æ‡‚å‰ç«¯å¼€å‘**ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œåªè¦**æŒ‰é¡ºåºä¸€æ­¥æ­¥æ“ä½œ**å°±èƒ½æˆåŠŸè¿è¡Œã€‚

---

# ğŸ§  ä½ ç°åœ¨åœ¨åšä»€ä¹ˆï¼Ÿï¼ˆå¤§æ¦‚ç†è§£ä¸€ä¸‹ï¼‰

ä½ å°†è¦å®‰è£…ä¸‹é¢è¿™äº›ä¸œè¥¿ï¼š

| å·¥å…·          | ä½œç”¨          | ä¸ºä»€ä¹ˆéœ€è¦            |
| ----------- | ----------- | ---------------- |
| **Node.js** | è¿è¡Œå‰ç«¯æ„å»ºå·¥å…·    | å‰ç«¯é¡¹ç›®å¿…é¡»ä¾èµ–         |
| **NVM**     | Node ç‰ˆæœ¬ç®¡ç†å·¥å…· | ç¡®ä¿å¤§å®¶ç”¨åŒä¸€ä¸ª Node ç‰ˆæœ¬ |
| **Yarn**    | åŒ…ç®¡ç†å™¨        | ä¸‹è½½é¡¹ç›®æ‰€éœ€ä¾èµ–         |
| **Vite**    | å‰ç«¯å¼€å‘æœåŠ¡å™¨     | ç”¨æ¥æœ¬åœ°è¿è¡Œé¡µé¢         |

---

# ğŸ–¥ 0ï¸âƒ£ æ¨èç¼–è¾‘å™¨ï¼ˆå¯é€‰ï¼‰

å»ºè®®å®‰è£…ï¼š

* **VS Code**ï¼š[https://code.visualstudio.com/](https://code.visualstudio.com/)
* å®‰è£…æ’ä»¶ **Volar**ï¼ˆæ”¯æŒ Vueï¼‰
* å¦‚æœè£…äº† **Vetur**ï¼Œè¯·ç¦ç”¨

---

# ğŸ§© 1ï¸âƒ£ å®‰è£… NVMï¼ˆNode ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼‰

### Mac / Linux

```bash
# å®˜æ–¹æº
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

# å›½å†…é•œåƒï¼ˆæ›´å¿«ï¼‰
curl -so- https://gitee.com/mirrors/nvm/raw/v0.39.7/install.sh | bash
```

å®‰è£…ååˆ·æ–°ç»ˆç«¯ï¼š

```bash
# bash
source ~/.bashrc

# zsh
source ~/.zshrc
```

---

# ğŸŸ¢ 2ï¸âƒ£ å®‰è£… Node.jsï¼ˆå¿…é¡»æ˜¯ 20 ç‰ˆæœ¬ï¼‰

```bash
nvm install 20
nvm use 20
nvm alias default 20
```

æ£€æŸ¥æ˜¯å¦æˆåŠŸï¼š

```bash
node -v   # åº”æ˜¾ç¤º v20.x.x
npm -v
```

---

# ğŸ“¦ 3ï¸âƒ£ å®‰è£… Yarn

```bash
corepack enable
corepack prepare yarn@stable --activate
yarn -v
```

---

# ğŸ“¥ 4ï¸âƒ£ ä¸‹è½½é¡¹ç›®å¹¶å®‰è£…ä¾èµ–

è¿›å…¥é¡¹ç›®ç›®å½•ï¼š

```bash
cd DataFlow-WebUI/frontend
```

å®‰è£…ä¾èµ–ï¼š

```bash
yarn
```

ç¬¬ä¸€æ¬¡å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿã€‚

---

# ğŸ”Œ 5ï¸âƒ£ è¿æ¥åç«¯æ¥å£ï¼ˆéå¸¸é‡è¦ï¼‰

å‰ç«¯éœ€è¦è¿æ¥åç«¯ FastAPIã€‚

æ‰“å¼€æ–‡ä»¶ï¼š

```
vite.config.js
```

æ‰¾åˆ°ï¼š

```js
proxy: {
    '/api': {
        target: 'http://100.64.0.91:8000/',
        changeOrigin: true,
        rewrite: path => path.replace(/^\/api/, '')
    }
}
```

ğŸ‘‰ å¦‚æœä½ çš„åç«¯åœ°å€ä¸åŒï¼ŒæŠŠ IP æ”¹æˆä½ çš„æœåŠ¡å™¨åœ°å€ã€‚

---

# â–¶ï¸ 6ï¸âƒ£ å¯åŠ¨é¡¹ç›®ï¼ˆæœ¬åœ°è¿è¡Œï¼‰

```bash
yarn dev
```

ç»ˆç«¯ä¼šæ˜¾ç¤ºï¼š

```
Local: http://localhost:5173/
```

æµè§ˆå™¨æ‰“å¼€è¿™ä¸ªåœ°å€ ğŸ‰
ä¿®æ”¹ä»£ç é¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚

---

# ğŸ— 7ï¸âƒ£ æ‰“åŒ…éƒ¨ç½²

### ç¬¬ä¸€æ­¥ï¼šè®¾ç½®åç«¯åœ°å€

åœ¨ `.env.production` ä¸­ï¼š

```
VITE_BACKEND_URL=http://ä½ çš„åç«¯åœ°å€:8000
```

### ç¬¬äºŒæ­¥ï¼šæ‰“åŒ…

```bash
yarn build
```

ä¼šç”Ÿæˆ `dist/` æ–‡ä»¶å¤¹ï¼Œè¿™å°±æ˜¯éƒ¨ç½²ç”¨çš„æ–‡ä»¶ã€‚

---

# ğŸ“‚ é¡¹ç›®ç»“æ„ï¼ˆç®€å•ç†è§£ï¼‰

```
src/
â”œâ”€â”€ axios/        åç«¯æ¥å£è¯·æ±‚é…ç½®
â”œâ”€â”€ components/   å°ç»„ä»¶
â”œâ”€â”€ views/        é¡µé¢
â”œâ”€â”€ router/       é¡µé¢è·¯ç”±
â”œâ”€â”€ hooks/        å…¬å…±é€»è¾‘
â”œâ”€â”€ App.vue       æ ¹ç»„ä»¶
â””â”€â”€ main.js       å…¥å£æ–‡ä»¶
```

---

# ğŸ”„ åç«¯æ¥å£å˜æ›´åå¦‚ä½•æ›´æ–°

å¦‚æœåç«¯ API æ›´æ–°ï¼š

```bash
yarn api
```

å®ƒä¼šè‡ªåŠ¨æ›´æ–°å‰ç«¯æ¥å£ä»£ç ã€‚

---

# ğŸ“¡ å‰ç«¯å¦‚ä½•è°ƒç”¨åç«¯ API

### å†™æ³• 1ï¼ˆä¼ ç»Ÿï¼‰

```js
this.$api.datasets.list_datasets().then(res => {
    console.log(res)
})
```

### å†™æ³• 2ï¼ˆæ¨èï¼‰

```js
import { useGlobal } from "@/hooks/general/useGlobal";
const { $api } = useGlobal();

$api.datasets.list_datasets().then(res => {
    console.log(res)
});
```

---

# ğŸ§° å¯ç”¨çš„å…¨å±€æ–¹æ³•

| åç§°        | ä½œç”¨   |
| --------- | ---- |
| `$api`    | åç«¯æ¥å£ |
| `$axios`  | è¯·æ±‚å·¥å…· |
| `$router` | è·¯ç”±   |
| `$Go`     | é¡µé¢è·³è½¬ |
| `$Back`   | è¿”å›   |
| `$Jump`   | æ–°å¼€é¡µé¢ |

---

# ğŸ¨ Flow è¾¹è§„åˆ™

æ ¼å¼ï¼š

```
<å±æ€§å>::<sourceæˆ–target>::<è¾¹ç±»å‹>
```

ä¾‹ï¼š

```
node::source::node
key_name::source::run_key
```

---

# â—å¦‚æœå¯åŠ¨å¤±è´¥

æ£€æŸ¥ï¼š

1. Node ç‰ˆæœ¬æ˜¯ä¸æ˜¯ **20**
2. åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
3. `vite.config.js` IP æ˜¯å¦æ­£ç¡®
4. é‡æ–°å®‰è£…ä¾èµ–ï¼š

```bash
rm -rf node_modules
yarn
```

## ğŸ”¹ UI ç»„ä»¶åº“

æœ¬é¡¹ç›®ä½¿ç”¨ **VFluent3** ç»„ä»¶åº“ã€‚
è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue 3ã€å‚è€ƒ Microsoft Fluent Design çš„ UI ç»„ä»¶åº“ï¼Œé£æ ¼ç®€æ´ç»Ÿä¸€ï¼Œé€‚åˆåœ¨ Vue + Vite é¡¹ç›®ä¸­æ„å»ºç°ä»£åŒ–ç•Œé¢ã€‚

GitHubï¼š[https://github.com/Creator-SN/VFluent3](https://github.com/Creator-SN/VFluent3)
